<!DOCTYPE html>
<html lang="en">

<head>
     <title>Genesis :: C++ Textarea</title>
     <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro|Ubuntu+Mono" rel="stylesheet">
     <link href="./css/editor.css" rel="stylesheet">
     <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
     <script src="./plugins/mousetrap/mousetrap.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>
     <div class="terminal-show" id="container">
          <div id="editor"></div>
          <textarea class="mousetrap" spellcheck="false" id="terminal">genesis@maxchehab:~$ </textarea>
     </div>

     <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.2.8/ace.js" type="text/javascript" charset="utf-8"></script>
     <script>
          var editor = ace.edit("editor");
          editor.setTheme("ace/theme/monokai");
          editor.getSession().setMode("ace/mode/c_cpp");
          editor.setFontSize(16);
          editor.setOptions({
               fontFamily: "'Source Code Pro', monospace",
          });
          editor.commands.addCommand({
               name: "terminal",
               bindKey: {
                    win: "Ctrl-Alt-T",
                    mac: "Command-Option-T"
               },
               exec: function(editor) {
                    if ($("#container").hasClass("terminal-hide")) {
                         $("#container").addClass("terminal-show");
                         $("#container").removeClass("terminal-hide");
                         $("#terminal").focus();
                    } else {
                         $("#container").removeClass("terminal-show");
                         $("#container").addClass("terminal-hide");
                    }
                    window.dispatchEvent(new Event('resize'))

               }
          });
     </script>

     <script>
          Mousetrap.bind('ctrl+alt+t', function(e) {
               if ($("#container").hasClass("terminal-hide")) {
                    $("#container").addClass("terminal-show");
                    $("#container").removeClass("terminal-hide");
                    $("#terminal").focus();
               } else {
                    $("#container").removeClass("terminal-show");
                    $("#container").addClass("terminal-hide");
               }
               window.dispatchEvent(new Event('resize'))

               return false;
          });
     </script>
</body>

</html>
